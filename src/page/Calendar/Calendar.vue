<template>
	<div>
		<div class="container bg-gray" :class="{ 'bg-dark': darkModeState }">
			<div class="calendar__content">
				<Header :title="'캘린더'" @confirmSetting="confirmSetting" />
				<!-- <Calendar /> -->
				<v-calendar is-expanded :attributes="attributes" :is-dark="darkModeState">
					<template #day-popover="{ day, format, masks }">
						<div class="text-xs text-gray-300 font-semibold text-center">
							{{ format(day.date, masks.dayPopover) }}
						</div>
					</template>
				</v-calendar>
				<div class="schedule__content">
					<div class="item__content">
						{{ 11 }}
					</div>
				</div>
			</div>
			<BottomNav :darkModeState="darkModeState" />
		</div>
	</div>
</template>
<script>
export default {
	name: "Calendar",
	data() {
		const todos = [
			{
				description: "Take Noah to basketball practice.",
				isComplete: false,
				dates: [new Date()], // Every Friday
				color: "red",
				key: "today",
				highlight: true,
			},
		]
		return {
			attrs: [
				{
					key: "today",
					highlight: true,
					dates: new Date(),
				},
				{
					bar: "red",
					dates: [
						new Date(2021, 4, 4), // Jan 4th
						new Date(2021, 4, 10), // Jan 10th
						new Date(2021, 4, 15), // Jan 15th
					],
				},
			],
			incId: todos.length,
			todos,
			darkModeState: this.$shared.checkDarkMode(),
		}
	},
	computed: {
		attributes() {
			return [
				// Attributes for todos
				...this.todos.map((todo) => ({
					dates: todo.dates,
					bar: {
						color: todo.color,
						class: todo.isComplete ? "opacity-75" : "",
					},
					popover: {
						label: todo.description,
					},
					customData: todo,
				})),
			]
		},
	},
	methods: {
		confirmSetting() {
			this.darkModeState = this.$shared.checkDarkMode()
		},
	},
}
</script>
<style scoped>
@import "./calendar.css";
</style>
